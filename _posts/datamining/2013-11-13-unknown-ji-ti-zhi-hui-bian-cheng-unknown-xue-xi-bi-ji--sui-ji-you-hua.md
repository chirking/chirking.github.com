---
layout: post
title: "《集体智慧编程》学习笔记：随机优化"
description: ""
category: "datamining"
tags: datamining 学习笔记
---
{% include JB/setup %}

# 随机优化

有一类问题，受多个变量影响，存在多个可能的解。随机优化的目的就是尽量找到最佳的变量组合以达到最佳的结果。  
由于有多个变量，变量的组合非常多，不可能全部遍历一遍，因此只能采用基于某种形式的随机选择来做，这就叫随机优化。  
  

# 数字序列

要使用随机优化，需要先把问题抽象成一个数字序列。序列的每一个值代表问题中一个变量的值。随机优化非常重要的一点就是把题解描述抽象成数字序列。    

例：  

多人的航班安排问题：序列中的每个值对应一个人选择的航班班次。  
资源分配问题（涉及到偏好）：序列中的每个值对应一个人分配到的资源编号。（必须想办法去重，通常一个资源不能分配给多个人）  
画图问题：序列中的每两个值对应一个坐标点。


# 成本函数

成本函数输入数字序列，返回一个数字。返回值越小，代表越接近最优解。    
成本函数是随机优化的关键。优化算法的目标就是要寻找一组能够让成本函数最小的数字序列。  
不同变量的单位不同，需要通过参数归一化成一个值。如：航班安排问题中，每耽误1个小时，抵100块钱。最终值就等于：耽误小时数*100+机票价格。  
成本函数要求不能有雪崩效应，即入参发生微小变化时，返回值也只能微小变化。


# 随机搜索

随机搜索很简单，就是随机尝试N次，选择最优的解。  
随机搜索不是一种非常好的优化算法，但它是其他随机优化算法的基础，并且，我们可以把它作为评估其他算法优劣的基线。

随机搜索的主要问题是没有利用当前的最优解，导致效率比较低。下面的算法都会以不同的方式利用当前最优解。

<!--more-->

# 爬山法

爬山法的思路是，找到当前最优解的所有临近解（其中一个变量微小变化）中的最优解，如果比当前最优解好，则替换掉当前最优解，如此反复。

爬山法的问题是，算法总是去找当前最优解的临近解，会导致找到局部最优解。  
一种解决的办法是：  
从多个起点开始做多次爬山法，并找出其中最好的解。  


# 模拟退火法

模拟退火法为了避免局部最优解的问题，在爬山法的基础上，即使某个临近解比当前最优解差，也给予一定概率取代当前最优解。这个概率逐步变小，最终趋于稳定，不再接受差的解。  

模拟退火法的结果同样受初始点影响很大，因此也同样可以从多个起点开始，并找出其中最好的解。



# 遗传算法

遗传算法的步骤：

1. 随机生成一组解，称之为种群
2. 选出种群中最好的N个解，这个过程称为精英选拔
3. 通过对步骤2中生成的解进行变异（对某个变量进行微小、简单、随机的变化），配对（取2个解的各一部分组成一个解）生成新的解
4. 步骤2-3生成的解合并起来，称为下一代种群
5. 重复步骤2-4，直到种群达到了指定代数或成本函数结果符合期望




